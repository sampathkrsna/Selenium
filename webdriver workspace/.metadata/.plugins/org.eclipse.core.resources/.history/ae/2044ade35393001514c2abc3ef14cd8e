package Curtianprice;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.firefox.FirefoxDriver;
import org.openqa.selenium.support.ui.Select;

public class Curtainpricevalidation {

	public static void main(String[] args) throws InterruptedException {
		// TODO Auto-generated method stub
		WebDriver driver=new FirefoxDriver();
		driver.manage().window().maximize();
		driver.get("http://root.test.customfurnish.com/curtains-online/");
		driver.findElement(By.xpath("/html/body/div[1]/div[5]/div[1]/div/a")).click();
		Thread.sleep(2000);
		driver.findElement(By.xpath("/html/body/div[1]/div[5]/div[3]/div[2]/ul/li[1]/a/div/div[3]/button")).click();
		Thread.sleep(2000);
		//Fabric Page
		String fabricprice=driver.findElement(By.xpath("/html/body/div[1]/div[5]/div[4]/div[2]/div[1]/div[1]/div[1]/span[1]/span")).getText();
		System.out.println("Fabric Price "+"Rs " + fabricprice);
		/*Fabric Width
		String width =driver.findElement(By.xpath("/html/body/div[1]/div[5]/div[4]/div[2]/div[1]/div[1]/div[1]/span[5]")).getText();
		System.out.println("Width = "+ width);
		String widthfeet = width.substring(0,1);
		String widthinch = width.substring(2,3);
		System.out.println("Width Feet "+widthfeet);
		System.out.println("Width Inch "+widthinch);
		Calculate Fabric Price
		int inches=12;
		int price= ((Integer.parseInt(widthfeet))* inches);
		System.out.println(price);*/
		//Fabric Calculation
		double heightmeter = 2.4892;
		int fabprice=250;
		int fixedprice =63;
		int noofcurtain =1;
		double margin=1.125;
		double calculatedprice=(((heightmeter*fabprice)+(heightmeter*fixedprice))*noofcurtain)*margin;
		System.out.println("Calculated Price "+ calculatedprice);
		int a=25;
		double b=Integer.parseInt(fabricprice)+a;
		double c=Integer.parseInt(fabricprice)-a;
		boolean matchprice;
		matchprice=((calculatedprice<b)&&(calculatedprice>c))?true:false;
		System.out.println("Price is Matching = "+ matchprice);
		if(matchprice==true)
		{
			System.out.println("Price Matching");
		}
		else
			System.out.println("Price MisMatching");
		
		//next to summary page
		driver.findElement(By.xpath("/html/body/div[1]/div[5]/div[4]/div[2]/div[1]/div[1]/div[2]/div[4]/a[1]")).click();
		Thread.sleep(2000);
		//next to dimension page
		driver.findElement(By.xpath("/html/body/div[1]/div[5]/div[5]/div[2]/div[1]/div[3]/a")).click();
		Thread.sleep(2000);
		//select dimension
		//driver.findElement(By.xpath("/html/body/div[1]/div[5]/div[8]/div[2]/div[2]/div[2]/div[1]/div[2]/div/div[4]/select[1]")).sendKeys("9");
		WebElement dimheightfeet=driver.findElement(By.xpath("/html/body/div[1]/div[5]/div[8]/div[2]/div[2]/div[2]/div[1]/div[2]/div/div[4]/select[1]"));
		Select feet=new Select(dimheightfeet);
		feet.selectByValue("9");
		WebElement option=feet.getFirstSelectedOption();
		String feet1=option.getText();
		System.out.println(feet1.trim());
				
		Thread.sleep(2000);
		driver.findElement(By.xpath("/html/body/div[1]/div[5]/div[8]/div[2]/div[2]/div[2]/div[1]/div[2]/div/div[5]/select[1]")).sendKeys("9");
		Thread.sleep(2000);
		driver.findElement(By.xpath("/html/body/div[1]/div[5]/div[8]/div[2]/div[2]/div[2]/div[1]/div[2]/div/div[5]/select[2]")).sendKeys("6");
		Thread.sleep(2000);
		//dimension calculation
				
		
		

	}

}
